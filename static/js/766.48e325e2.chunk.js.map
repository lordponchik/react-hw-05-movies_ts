{"version":3,"file":"static/js/766.48e325e2.chunk.js","mappings":"6IACA,SAAgB,QAAU,oCAAoC,YAAc,yC,aCC7D,SAASA,IACtB,OAAOC,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAEC,QAAQC,SAAC,6DAClC,C,sECJA,MAAMC,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,gQAINC,eAAeC,EAAeC,GAC5B,MAAMC,QAAgBC,MAAM,gCAAgCF,IAASP,GAGrE,aAFsBQ,EAAQE,MAGhC,CAEOL,eAAeM,IACpB,aAAaL,EAAe,oCAC9B,CAEOD,eAAeO,EAAYC,GAChC,aAAaP,EAAe,sBAAsBO,8CACpD,CAEOR,eAAeS,EAAmBC,GACvC,aAAaT,EAAe,SAASS,mBACvC,CAEOV,eAAeW,EAAmBD,GACvC,aAAaT,EAAe,SAASS,2BACvC,CAEOV,eAAeY,EAAmBF,GACvC,aAAaT,EAAe,SAASS,kCACvC,C,oECjCA,SAAgB,QAAU,6BAA6B,YAAc,iCAAiC,MAAQ,2BAA2B,UAAY,gC,uCCkBtI,SAASG,IACtB,MAAM,QAAEC,IAAYC,EAAAA,EAAAA,MAElBC,KAAMC,EAAO,UACbC,EAAS,QACTC,IACEC,EAAAA,EAAAA,GAAoB,CACtBC,SAAU,CAAC,UAAWP,GACtBQ,QAASA,IAdbtB,eAAmCc,GACjC,MAAM,QAAES,SAAkBX,EAAAA,EAAAA,IAAmBE,GAE7C,OAAOS,CACT,CAUmBC,CAAoBC,OAAOX,IAC1CY,sBAAsB,IAGxB,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAlC,SAAA,CACGwB,IAAa5B,EAAAA,EAAAA,KAACuC,EAAAA,EAAM,IACpBZ,IACC3B,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAEyB,QAAQvB,SACtBuB,EAAQa,KAAIC,IAA8B,IAA7B,GAAErB,EAAE,OAAEsB,EAAM,QAAEC,GAASF,EACnC,OACEJ,EAAAA,EAAAA,MAAA,MAAapC,UAAWC,EAAE0C,YAAYxC,SAAA,EACpCiC,EAAAA,EAAAA,MAAA,MAAIpC,UAAWC,EAAE2C,MAAMzC,SAAA,EACrBJ,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAE4C,UAAU1C,SAAC,aAAe,IAAEsC,MAEjD1C,EAAAA,EAAAA,KAAA,KAAGC,UAAU,UAASG,SAAEuC,MAJjBvB,EAKJ,MAKqB,KAAhCS,IAAkB,OAAPF,QAAO,IAAPA,OAAO,EAAPA,EAASoB,WAAiB/C,EAAAA,EAAAA,KAACD,EAAAA,EAAkB,MAGhE,C","sources":["webpack://react-hw-05-movies_ts/./src/components/InformationMessage/InformationMessage.module.css?b207","components/InformationMessage/InformationMessage.tsx","services/api.ts","webpack://react-hw-05-movies_ts/./src/views/ReviewsView/ReviewsView.module.css?9a8a","views/ReviewsView/ReviewsView.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"message\":\"InformationMessage_message__2XMt6\",\"animMessage\":\"InformationMessage_animMessage__Zgqpm\"};","import s from './InformationMessage.module.css';\r\n\r\nexport default function InformationMessage() {\r\n  return <p className={s.message}>Unfortunately the requested information is not available.</p>;\r\n}\r\n","const options = {\r\n  method: 'GET',\r\n  headers: {\r\n    accept: 'application/json',\r\n    Authorization:\r\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxNzJjNjgwZTU1OGJkMmM2YjkwMmM4MGIyZDVlMDc3ZCIsIm5iZiI6MTczMDQ3NDM2NC43MzMxNzE1LCJzdWIiOiI2NDgxY2M5Y2UyNzI2MDAwZThiZjRlYjQiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.5dCuWIPkc-FoQqtFcC5mms7ke4vYd9VzbOaT7ZD_h1c',\r\n  },\r\n};\r\n\r\nasync function fetchMoviesAPI(route: string) {\r\n  const request = await fetch(`https://api.themoviedb.org/3/${route}`, options);\r\n  const results = await request.json();\r\n\r\n  return results;\r\n}\r\n\r\nexport async function fetchTrendingMovies() {\r\n  return await fetchMoviesAPI('trending/movie/day?language=en-US');\r\n}\r\n\r\nexport async function fetchMovies(q: string) {\r\n  return await fetchMoviesAPI(`search/movie?query=${q}&include_adult=false&language=en-US&page=1`);\r\n}\r\n\r\nexport async function fetchMoviesDetails(id: number) {\r\n  return await fetchMoviesAPI(`movie/${id}?language=en-US`);\r\n}\r\n\r\nexport async function fetchMoviesCredits(id: number) {\r\n  return await fetchMoviesAPI(`movie/${id}/credits?language=en-US`);\r\n}\r\n\r\nexport async function fetchMoviesReviews(id: number) {\r\n  return await fetchMoviesAPI(`movie/${id}/reviews?language=en-US&page=1`);\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"reviews\":\"ReviewsView_reviews__rM3Oo\",\"reviewsItem\":\"ReviewsView_reviewsItem__yniBj\",\"title\":\"ReviewsView_title__z2PXi\",\"titleName\":\"ReviewsView_titleName__oCOi6\"};","import { useParams } from 'react-router-dom';\r\nimport { fetchMoviesReviews } from '../../services/api';\r\nimport s from './ReviewsView.module.css';\r\nimport InformationMessage from '../../components/InformationMessage/InformationMessage';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport { useQuery } from '@tanstack/react-query';\r\n\r\ninterface IReview {\r\n  id: string;\r\n  author: string;\r\n  content: string;\r\n}\r\n\r\nasync function requestMovieReviews(movieId: number) {\r\n  const { results } = await fetchMoviesReviews(movieId);\r\n\r\n  return results;\r\n}\r\n\r\nexport default function ReviewsView() {\r\n  const { movieId } = useParams();\r\n  const {\r\n    data: reviews,\r\n    isPending,\r\n    isError,\r\n  } = useQuery<IReview[]>({\r\n    queryKey: ['reviews', movieId],\r\n    queryFn: () => requestMovieReviews(Number(movieId)),\r\n    refetchOnWindowFocus: false,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {isPending && <Loader />}\r\n      {reviews && (\r\n        <ul className={s.reviews}>\r\n          {reviews.map(({ id, author, content }) => {\r\n            return (\r\n              <li key={id} className={s.reviewsItem}>\r\n                <h3 className={s.title}>\r\n                  <span className={s.titleName}>Author: </span> {author}\r\n                </h3>\r\n                <p className=\"content\">{content}</p>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      )}\r\n      {(isError || reviews?.length) === 0 && <InformationMessage />}\r\n    </>\r\n  );\r\n}\r\n"],"names":["InformationMessage","_jsx","className","s","message","children","options","method","headers","accept","Authorization","async","fetchMoviesAPI","route","request","fetch","json","fetchTrendingMovies","fetchMovies","q","fetchMoviesDetails","id","fetchMoviesCredits","fetchMoviesReviews","ReviewsView","movieId","useParams","data","reviews","isPending","isError","useQuery","queryKey","queryFn","results","requestMovieReviews","Number","refetchOnWindowFocus","_jsxs","_Fragment","Loader","map","_ref","author","content","reviewsItem","title","titleName","length"],"sourceRoot":""}